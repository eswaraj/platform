<!DOCTYPE html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Location Manager</title>


<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800' rel='stylesheet' type='text/css' />
<link href='http://fonts.googleapis.com/css?family=Roboto:400,500,700' rel='stylesheet' type='text/css' />
<link href='http://fonts.googleapis.com/css?family=PT+Sans:700,400' rel='stylesheet' type='text/css' />
<link href='http://fonts.googleapis.com/css?family=Pontano+Sans' rel='stylesheet' type='text/css' />
<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600' rel='stylesheet' type='text/css' />

<!-- Styles -->
<link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" /><!-- Bootstrap -->
<link rel="stylesheet" href="font-awesome-4.0.3/css/font-awesome.css" type="text/css" /><!-- Font Awesome -->

<link rel="stylesheet" type="text/css" media="all" href="css/daterangepicker-bs3.css" /><!-- Date Range Picker -->
<link rel="stylesheet" href="css/style.css" type="text/css" /><!-- Style -->	
<link rel="stylesheet" href="css/responsive.css" type="text/css" /><!-- Responsive -->	



 
<!-- Script -->
<script src="js/jquery-1.10.2.js"></script><!-- Jquery -->
<script type="text/javascript" src="js/bootstrap.min.js"></script><!-- Bootstrap -->
<script type="text/javascript" src="js/script.js"></script><!-- Script -->
<script src="js/enscroll-0.5.2.min.js"></script> <!-- Custom Scroll bar -->
<script src="js/moment.js"></script> <!-- Date Range Picker -->
<script src="js/daterangepicker.js"></script><!-- Date Range Picker -->
  <!-- 2 load the theme CSS file -->
  <link rel="stylesheet" href="dist/themes/default/style.min.css" />
   <!-- 4 include the jQuery library -->

  <!-- 5 include the minified jstree source -->
  <script src="dist/jstree.min.js"></script>

</head>
<body>
		<div class="responsive-menu">
			<div class="responsive-menu-dropdown blue">
				<a title="" class="blue">MENU <i class="fa fa-align-justify"></i></a>
			</div>
			
	</div>
	<header>
		<div class="logo">
			<img src="images/logo.png" alt="" />
		</div>
			
		
		
	</header><!-- Header -->

	<div class="menu">
		<div class="menu-profile" id="intro3">
			<img src="images/logo.jpg" alt="" />
			<span><i class="fa fa-plus"></i></span>
			<div class="menu-profile-hover">
				<h1>India</h1>
				<p><i class="fa fa-map-marker"></i>eSwaraj</p>
				<a href="index.html" title=""><i class="fa fa-power-off"></i></a>
				<div class="menu-profile-btns">
							
					
				</div>
			</div>
		</div>
		<ul>
			<li id="intro4"><a href="#" title=""><i class="fa fa-desktop"></i>Location</a>
				<ul>
					<li><a href="location_manager.html" title="">Location Manager</a></li>
				</ul>			
			</li>
			
		</ul>
	</div><!-- Right Menu -->

	<div class="wrapper">
		<div class="container">
			<div class="col-md-6">
				<div class="heading-sec" id="intro6">
					<h1>Profile<i>India</i></h1>
				</div>
			</div>
		
			
		<div class="row">
			<div class="col-md-12 profile-margin">
			<div class="col-md-4">
			<h1>Boundary Type</h1>
			
			<script type="text/javascript">
 $(document).ready(function(){
$('#js_tree').jstree({ 'core' : {
	"check_callback" : true,
    'data' : [
       { "id" : "poly", "parent" : "#", "text" : "Political",'li_attr':{'title':'Political','info':'PLease explain about the political system of india','population':'1200M ','area':'34MSQ','child_type':'country'}},
       { "id" : "admin", "parent" : "#", "text" : "Administrative ",'li_attr':{'title':' Administrative','info':'Please explain about the administrative system','population':'1200M ','area':'34MSQ','child_type':'country'}},
       { "id" : "devu", "parent" : "#", "text" : "Development(Urban)",'li_attr':{'title':'Development (Urban)','info':'Please explain about the Development(Urban)','population':'1200M ','area':'34MSQ','child_type':'country'}},
       { "id" : "devr", "parent" : "#", "text" : "Development /Civic Admin (Rural)",'li_attr':{'title':'Development(Rural)','info':'Please explain about the Development(Rural) ','population':'1200M ','area':'34MSQ','child_type':'country'}},
    ],
	"plugins" : [ "types","contextmenu","html_data", "ui"]}}).bind("select_node.jstree", function (e, data) {  
		var parent = $('#js_tree').jstree('get_selected');
		//alert("node_clicked "+parent);
			
		$('#node_title').html($('#'+parent).attr('title'));
		$('#selected_node_title').val($('#'+parent).attr('title'));
		
		$('#node_info').html($('#'+parent).attr('info'));
		$('#selected_node_title').val($('#'+parent).attr('title'));
		
		$('#node_area').html($('#'+parent).attr('area'));
		$('#selected_node_area').val($('#'+parent).attr('area'));
		
		$('#node_pop').html($('#'+parent).attr('population'));
		$('#selected_node_pop').val($('#'+parent).attr('population'));
		
		$('#node_add_btn').html('Add '+$('#'+parent).attr('child_type'));
		
		if($("#"+parent+" ul" ).children().length == 0){
		
			//this need to be replaced by WEB API-1, json response expected as below 
			 var newNode = 
				 {
				   'text'    	:'India',
				   'id'  	 	:'IN',			
				   'icon' 	 	:'country',			    
				   'children'   :[{'text':'Uttar Pradesh','id':'UP','li_attr':{'title':'Uttar Pradesh','info':'About UP','population':'10M UP','area':'34MSQ UP','child_type':'district'}},{'text':'Delhi','id':'DEL','li_attr':{'title':'Delhi','info':'About Delhi','population':'1M DEl','area':'4MSQ DEL','child_type':'district'}}],
				   'li_attr':{'title':'India','population':'10M','area':'134MSQ','child_type':'state'}  
				   // attributes for the generated LI node
				   
				 };
		     var sel = $('#js_tree').jstree(true).create_node(parent, newNode);
		}	
		
      })	
	  
});

function add_child_node(){

var selected_node =  $('#js_tree').jstree('get_selected');
var new_node = {'text':$("#new_node_title").val(),
'id':$("#new_node_code").val(),
'li_attr':{'title':$("#new_node_title").val(),'info':$("#new_node_info").val(),'population':$("#new_node_pop").val(),'area':$("#new_node_area").val(),'child_type':$("#new_node_child_type").val()}};
//alert("selected node" + selected_node);
var sel = $('#js_tree').jstree(true).create_node(selected_node, new_node);
}

function update_selected_node(new_node_title,new_node_info,new_node_area,new_node_pop,new_node_add_btn){
var selected_node =  $('#js_tree').jstree('get_selected');

}
</script>
			
  
 <!-- the tree is populated via ajax -->
			<div id="js_tree">
				
				
			  </div>	
					
			</div>
				<div class="col-md-3">
					<div class="profile-sec-head pink">
						<h1 id="node_title">India</h1>	
					<p id="node_info">About India</p>	
					</div>
					
				</div>
				<div class="col-md-5">
				<div id="tabmenu">
						<ul id="nav1">
							<li><a href="#" class="active"><i class="fa fa-tachometer"></i> Key Stats</a></li>
							
						</ul>
						<div id="tab-content">
							<div id="tab1">
								<p placeholder="Key Stats" style="padding:10px;"><span>
								Area : <span id="node_area"></span> </br></span>
								<span>Population : <span id="node_pop"></span></span> 
									
						 </p><p style="padding:10px;">
									<a id="node_add_btn" class="btn pink" href="#add-node" data-toggle="modal">Add Child Node</a>
									<a id="update_node_btn" class="btn green"  href="#update_node_form" data-toggle="modal">Update Node</a>
									
						 </p>	
							</div>
							
						
						</div>
					</div>
					
		<div aria-hidden="true" role="dialog"  class="modal fade" id="add-node" style="display: none;">
			<div class="modal-dialog" style="top:30px;">
				<div class="modal-content">
					<div class="modal-header blue">
					  <button aria-hidden="true" data-dismiss="modal" class="close" type="button">—</button>
					  <h4 class="modal-title">Add Child Node</h4>
					</div>
					<div class="modal-body">
					  <input type="text" id="new_node_title" placeholder="Node Title" />
					  <input type="text" id="new_node_code" placeholder="Code" />
					  <input type="text" id="new_node_info" placeholder="Info" />
					  <input type="text" id="new_node_area" placeholder="Area" />
					  <input type="text" id="new_node_pop" placeholder="Population" />
					  <input type="text" id="new_node_child_type" placeholder="Child Type" />
					  <input type="text" placeholder="Centre lat-long" />
					  Upload KML<input type="file" id="new_node_kml"/>
					</div>
					 				  
					</div>
					<div class="modal-footer">
					  <button data-dismiss="modal" class="btn btn-default black" type="button">Close</button>
					  <button class="btn btn-primary blue" type="button" onclick="add_child_node();" >Save changes</button>
					</div>
				</div><!-- /.modal-content -->
			</div>
		</div>
		
		
			<div aria-hidden="true" role="dialog"  class="modal fade" id="update_node_form" style="display: none;">
			<div class="modal-dialog" style="top:30px;">
				<div class="modal-content">
					<div class="modal-header blue">
					  <button aria-hidden="true" data-dismiss="modal" class="close" type="button">—</button>
					  <h4 class="modal-title">Update Node</h4>
					</div>
					<div class="modal-body">
					  <input type="text" id="selected_node_title" placeholder="Node Title" value="javascript:"/>
					  <input type="text" id="selected_node_code" placeholder="Code" />
					  <input type="text" id="selected_node_area" placeholder="Area" />
					  <input type="text" id="selected_node_pop" placeholder="Population" />
					  <input type="text" id="selected_node_centre" placeholder="Centre lat-long" />
					  Upload KML<input type="file" id="selected_node_kml"/>
					</div>
					<div class="modal-footer">
					  <button data-dismiss="modal" class="btn btn-default black" type="button">Close</button>
					  <button class="btn btn-primary blue" type="button" onclick="update_selected_node();">Save changes</button>
					</div>
				</div><!-- /.modal-content -->
			</div>
		</div>

					
				</div>
				
				
				
			</div>
		</div>
		
		
		</div><!-- Container -->
	</div><!-- Wrapper -->



</body>
